`sudo luarocks make mocka-1.0-1.rockspec`

`sudo luarocks install luacov`

Optional:
`sudo luarocks install luacov-coveralls`

`lua -lluacov run_tests.lua`

`luacov`

`luacov-cobertura -o coverage_report.xml`

Sugest using 
GitHub Pull Request Coverage Status and Cobertura Plugin
